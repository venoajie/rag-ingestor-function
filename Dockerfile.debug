
FROM alpine:latest

# Install curl, the only tool we need for this network test.
RUN apk add --no-cache curl

# This is the diagnostic command.
# It tries to curl the metadata endpoint.
# The result will be captured in the function logs.
CMD ["sh", "-c", "curl -v --connect-timeout 10 http://169.254.169.254/opc/v2/instance/"]